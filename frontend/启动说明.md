# 前端项目启动说明

## 快速开始

### 方式一：使用静态CSV文件（最简单）

1. **复制CSV文件到public目录**
   ```bash
   # 在项目根目录执行
   mkdir -p frontend/public/output
   cp output/picked_stocks_*.csv frontend/public/output/
   ```

2. **安装依赖**
   ```bash
   cd frontend
   npm install
   ```

3. **启动开发服务器**
   ```bash
   npm run dev
   ```

4. **访问应用**
   打开浏览器访问 http://localhost:3000

### 方式二：使用后端API（推荐，便于扩展）

1. **启动后端API服务**
   ```bash
   # 在项目根目录执行
   pip install flask flask-cors pandas
   python backend_api_example.py
   ```
   后端将在 http://localhost:8000 启动

2. **配置前端使用API模式**
   
   创建 `frontend/.env` 文件：
   ```
   VITE_USE_API=true
   VITE_API_BASE_URL=http://localhost:8000
   ```

3. **安装前端依赖**
   ```bash
   cd frontend
   npm install
   ```

4. **启动前端开发服务器**
   ```bash
   npm run dev
   ```

5. **访问应用**
   打开浏览器访问 http://localhost:3000

## 常见问题

### 1. npm命令不存在
- Windows: 安装 Node.js (https://nodejs.org/)
- 或使用 yarn: `yarn install` 和 `yarn dev`

### 2. 无法加载CSV文件
- 检查文件是否在 `frontend/public/output/` 目录
- 检查文件名格式是否为 `picked_stocks_YYYYMMDD.csv`

### 3. 后端API连接失败
- 确认后端服务已启动（运行 `python backend_api_example.py`）
- 检查 `frontend/.env` 中的 `VITE_API_BASE_URL` 配置
- 检查浏览器控制台的错误信息

### 4. 端口被占用
- 修改 `vite.config.js` 中的端口号
- 或使用 `npm run dev -- --port 3001`

## 生产部署

### 构建生产版本
```bash
cd frontend
npm run build
```

构建产物在 `dist` 目录，可以部署到任何静态文件服务器。

### 使用Nginx部署示例
```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /path/to/frontend/dist;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://localhost:8000;
    }
}
```

